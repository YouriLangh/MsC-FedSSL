if i change stm to epochs, do i need to reset it every round?
if i chqnge threshold to alter per epoc do i need to reset it every round?
Ask about research questions.
We ar ejuyst doing fedAvg, but perhaps weighted or other approaches might be nice
We are giving each person same amount of data i think? 

Important next steps:
Non-iid and different amounts of data size distribution
& validation set perhaps for Optuna? & then ofc k-fold validation


In the STM: when the same instance gets multiple pseudolabels in the STM i replace it if the pseudolabels confidence is higher, should i do this for the non_ordered_dict or just throw it out? Because with explo/explor its possible to get same instance if u hit the odds.


No ordered:
keep prob = 1
Test Accuracy: 0.6576
Confusion Matrix:
[[ 830    0   10    1    0    4    7    0    2    0]
 [  10 1126   37   23  534   14   59   87   36  122]
 [   0    4  742    3    2    0    3    2    2    0]
 [   0    1    4  748    0   91    1    0   11    7]
 [   0    0    0    0  323    0    0    0    0    0]
 [   0    0    1    5    0  519   10    0    9    0]
 [  18    2   34    8   43   13  862    0   10    1]
 [ 121    2  193  214   77  244   15  939  424  871]
 [   1    0   11    8    0    7    1    0  480    1]
 [   0    0    0    0    3    0    0    0    0    7]]
F1 Macro: 0.6459, F1 Weighted: 0.6443, Recall Macro: 0.6522
STM buffer length (client 0): 200

Yes ordered:
Test Accuracy: 0.6732
Confusion Matrix:
[[ 860    0   10    0    0    8   12    0    9    4]
 [  36 1130   89   80  642   67  110  266  155  642]
 [  12    3  859   20    2   13   20    7   17    7]
 [   0    1   14  873    0  142    0    1   34   12]
 [   0    0    0    0  315    0    3    0    1    2]
 [   0    0    0    3    0  547    3    0    5    1]
 [  21    1    2    0    9    3  804    0    2    1]
 [  45    0   47   25   14  101    2  754  195  297]
 [   6    0   11    9    0   11    4    0  556    9]
 [   0    0    0    0    0    0    0    0    0   34]]
F1 Macro: 0.6632, F1 Weighted: 0.6592, Recall Macro: 0.6681
STM buffer length (client 0): 200
